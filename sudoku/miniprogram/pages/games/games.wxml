<!--pages/games/games.wxml-->
<view>
  <t-navbar
    t-class-placeholder="t-navbar-placeholder"
    t-class-content="t-navbar-content"
    title="数独天天玩"
    left-arrow
    >
    <text class="left-text" slot="left" bind:tap="gotoindex">返回</text>
  </t-navbar>
</view>

<view class="games-container">
  <view class="view">
  <t-row>
  <t-col span="8"><view class="show_text"><text >用时：{{formattedTime}}</text></view></t-col>
  <t-col span="8"><view class="show_text"><text>等级：{{level_str}}</text></view></t-col>
  <t-col span="8"><view class="show_text"><text>错误：{{errCt}}/{{maxErrCt}}</text></view></t-col>
  </t-row>
  </view>

  <t-toast id="t-toast" />
  <view class="view">
    <view class="content">
      <view wx:for="{{eighty}}" class="content-child {{index > 8 ? 'border-top' : 'border-left'}} {{ques[index] > 0 ? 'light' : ''}}  {{ connectCell[index] ? 'dark' : ''}} {{ checkCells[index] ? 'checkCell' : ''}} {{ sameNumCell[index] ? 'same' : ''}} {{ selectCell[index] ? 'active' : ''}} " data-index="{{index}}" bind:tap="{{ques[index] > 0 ? 'showFillTip' : 'getUnfill' }}">
        <!-- {{ques[index] > 0 ? ques[index] : ' '}}      -->
        <view wx:if="{{ques[index] > 0}}" class="filled"> {{ques[index]}}</view>
        <view wx:else>
          <block wx:if="{{doAnswer[index] > 0 }}">
            <view id="item-{{index}}" class=" {{isCollects[index] ? '' : 'isCollect'}}"><text decode="true">{{doAnswer[index] > 0 ? doAnswer[index] : '&nbsp;'}}</text></view>
          </block>
          <block wx:else>
            <t-row> 
              <t-col wx:for="{{nine}}" span="8" wx:for-index="i"><view  class="mini" data-tipitem="{{index}}-{{i}}"><text decode="true">{{tipItems[index][i] > 0 ? tipItems[index][i] : '&nbsp;'}}</text></view></t-col>
            </t-row>
          </block>        
        </view>
      </view>
    </view>    
  </view>

  <view>
    <t-grid>
      <t-grid-item text="撤回" icon="rollback" bind:tap="withdraw"/>
      <t-grid-item text="清除" icon="clear-formatting" bind:tap="clean" />
      <t-grid-item text="铅笔" icon="pen-ball" bind:tap="isPencilCheck" badge-props="{{ {count: isPencil ? 'on' : 'off' } }}"/>
      <t-grid-item text="提示" icon="gesture-press" bind:tap="doTip" badge-props="{{ {count: adCt} }}"/>
    </t-grid>
  </view>

  <view class="view">
    <view class="parent">
      <block wx:for="{{leftCellNum}}" wx:for-index="idx" wx:for-item="ite">
      <view class="child {{idx == currTipIndex ? 'child-checked' : ''}}" bind:tap="{{isPencil == false ? 'doUnfill' : 'doPencil'}}" data-idxfill="{{idx}}">{{idx + 1}}<view class="leftct">{{ite}}</view></view> 
      </block>     
    </view>
  </view>

  <t-popup visible="{{isShowSuccess}}" bind:visible-change="onVisibleChange" placement="center">
    <view class="go-back-block">
      <t-icon t-class="close-btn" name="close-circle" size="32" color="#fff" bind:tap="onClose" />
    </view>
  </t-popup>

  

</view>

